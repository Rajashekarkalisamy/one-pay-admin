<div class="row">

    <div class="col-lg-12">
        <form [formGroup]="tourForm" (ngSubmit)="addTour()">
            <mat-card class="cardWithShadow">
                <mat-card-header class="p-24">
                    <div class="col-md-12">
                        <mat-card-title>Add Tour
                            <button type="submit" mat-fab extended class="float-right m-b-20">
                                <mat-icon>upload</mat-icon>
                                Save
                            </button>
                        </mat-card-title>

                    </div>
                </mat-card-header>
                <mat-card-content>
                    <div class="col-md-12 d-flex">
                        <div class="col-md-4">
                            <div class="input_group">
                                <mat-form-field appearance="outline" class="w-100" color="primary">
                                    <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Tour
                                        Plan</mat-label>
                                    <input matInput type="text" formControlName="plan" maxlength="25" />
                                    <mat-error class="error"
                                        *ngIf="atf.plan.errors?.['required'] && (tourFormSubmitted)">
                                        Plan can't be empty
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="input_group">
                                <mat-form-field appearance="outline" class="w-100" color="primary">
                                    <mat-label
                                        class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Description</mat-label>
                                    <input matInput type="text" formControlName="description" maxlength="250" />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="input_group">
                                <mat-form-field appearance="outline" class="w-100" color="primary">
                                    <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Plan
                                        Date</mat-label>
                                    <mat-date-range-input [rangePicker]="picker">
                                        <input matStartDate placeholder="Start date" formControlName="planstartdate">
                                        <input matEndDate placeholder="End date" formControlName="planenddate">
                                    </mat-date-range-input>
                                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-date-range-picker #picker></mat-date-range-picker>
                                    <mat-error class="error"
                                        *ngIf="atf.planstartdate.errors?.['required'] && (tourFormSubmitted)">
                                        Plan Date can't be empty
                                    </mat-error>
                                    <mat-error class="error"
                                        *ngIf="!atf.planstartdate.errors?.['required'] && atf.planenddate.errors?.['required'] && (tourFormSubmitted)">
                                        Plan End Date can't be empty
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </mat-card-content>
                <div *ngIf="isPlan">
                    <mat-card-header>
                        <div class="col-md-12 m-b-20">
                            <mat-card-title>Add Members</mat-card-title>
                        </div>
                    </mat-card-header>
                    <mat-card-content>
                        <form [formGroup]="tourMemberForm" (ngSubmit)="addMember()">
                            <div class="col-md-12 d-flex">
                                <div class="col-md-4">
                                    <div class="input_group">
                                        <mat-form-field appearance="outline" class="w-100" color="primary">
                                            <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Member
                                                Name</mat-label>
                                            <input matInput type="text" formControlName="member_name" maxlength="25" />
                                            <button matSuffix mat-button extended type="submit">
                                                <mat-icon>add</mat-icon>Add
                                            </button>
                                            <mat-error class="error"
                                                *ngIf="amf.member_name.errors?.['required'] && (tourMemberFormSubmitted)">
                                                Member name can't be empty
                                            </mat-error>

                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </mat-card-content>
                    <mat-card-header>
                        <div class="col-md-12 m-b-20">
                            <mat-card-title *ngIf="tourMembers.length">Members:
                                <mat-chip-row class="m-8" *ngFor="let member of tourMembers | keyvalue"
                                    (removed)="removeMember(member.key)">
                                    {{member.value}}
                                    <button matChipRemove [attr.aria-label]="'remove ' + member.value">
                                        <mat-icon>cancel</mat-icon>
                                    </button>
                                </mat-chip-row>
                            </mat-card-title>
                        </div>
                    </mat-card-header>
                    <mat-card-content>
                    </mat-card-content>
                </div>
            </mat-card>
        </form>
    </div>
</div>