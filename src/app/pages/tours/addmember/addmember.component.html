<div class="row">
    <div class="col-lg-12">
        <form [formGroup]="memberForm" (ngSubmit)="addMember()">
            <mat-card class="cardWithShadow">
                <mat-card-header>
                    <div class="col-md-12 p-24">
                        <mat-card-title>Add Member
                            <button type="button" mat-fab extended class="float-right m-b-20 m-l-20"
                                [routerLink]="'/tours/list'">
                                <mat-icon>cancel</mat-icon>
                                Close
                            </button>
                            <button type="submit" mat-fab extended class="float-right m-b-20">
                                <mat-icon>upload</mat-icon>
                                {{ memberId ? 'Update' :'Add Member' }}
                            </button>
                        </mat-card-title>

                    </div>
                </mat-card-header>
                <mat-card-content>
                    <div class="col-md-12 d-flex">
                        <div class="col-md-4">
                            <div class="input_group">
                                <mat-form-field appearance="outline" class="w-100" color="primary">
                                    <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Member</mat-label>
                                    <input matInput type="text" formControlName="name" maxlength="25" />
                                    <mat-error class="error"
                                        *ngIf="mf.name.errors?.['required'] && (memberFormSubmitted)">
                                        Member name can't be empty
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-md-4" *ngIf="memberId">
                            <button type="button" mat-raised-button color="warn" class="m-t-8" (click)="clearMember()">
                                <mat-icon>cancel</mat-icon>
                                Cancel
                            </button>
                        </div>
                    </div>
                </mat-card-content>
                <mat-card-content *ngIf="members.length !== 0">
                    <div class="table-responsive">
                        <table mat-table [dataSource]="members" class="w-100">
                            <!-- Position Column -->
                            <ng-container matColumnDef="position">
                                <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
                                    S.No
                                </th>
                                <td mat-cell *matCellDef="let element">
                                    <div class="d-flex align-items-center">
                                        <div class="m-l-16">
                                            {{ element.position }}
                                        </div>
                                    </div>
                                </td>
                            </ng-container>

                            <!-- Name Column -->
                            <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
                                    Name
                                </th>
                                <td mat-cell *matCellDef="let element" class="mat-body-1">
                                    {{ element.name }}
                                </td>
                            </ng-container>

                            <!-- Action Column -->
                            <ng-container matColumnDef="action">
                                <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
                                    <span class="m-l-16">Action</span>
                                </th>
                                <td mat-cell *matCellDef="let element" class="mat-body-1">
                                    <mat-icon class="m-l-16 cursor-pointer" title="Edit"
                                        (click)="editMember(element.member_id)">edit</mat-icon>
                                    <mat-icon class="m-l-16 cursor-pointer" title="Delete"
                                        (click)="deleteMember(element.member_id)">delete</mat-icon>
                                    <mat-icon class="m-l-16 cursor-pointer" title="Statement"
                                        [routerLink]="['/tours/report']"
                                        [queryParams]="{tour_id: element.tour_id, member_id:element.member_id}">account_balance_wallet</mat-icon>
                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="memberColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: memberColumns"></tr>
                        </table>
                    </div>
                </mat-card-content>
            </mat-card>
        </form>
    </div>
</div>